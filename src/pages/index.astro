---
import Base from "../layouts/Base.astro";
import CuisineTiles from "../components/CuisineTiles.astro";
import CollectionGrid from "../components/CollectionGrid.astro";
import RestaurantCard from "../components/RestaurantCard.astro";

import areas from "../data/areas.json";
import restaurants from "../data/restaurants.json";

const featured = restaurants.filter(r => r.featured).slice(0, 9);
const areaName = (key) => areas.find(a => a.key === key)?.name ?? key;
---
<Base title="Fenwick Island Social — Curated Food Guide" description="A curated food guide for Fenwick Island, Bethany Beach & Ocean City.">
  <section class="section">
    <div class="hero heroBg">
      <div class="kicker">Curated Food Guide</div>
      <h1 class="h1">Find the best food near Fenwick, Bethany & Ocean City.</h1>
      <p class="p">Curated restaurant picks with photos, menus, and quick takes on where to eat near the beach. No reviews, no noise — just solid choices.</p>
      <div class="btnRow">
        <a class="btn primary" href="/restaurants">Browse Restaurants</a>
        <a class="btn" href="/food/pizza">Browse by Food</a>
        <a class="btn" href="/areas/fenwick-island">Browse by Area</a>
      </div>
    </div>
  </section>

  <section class="section">
    <h2 class="h2">Start with what you’re craving</h2>
    <CuisineTiles />
  </section>

  <section class="section">
    <h2 class="h2">Editor picks</h2>
    <CollectionGrid />
  </section>

  <section class="section">
    <div style="display:flex; align-items:baseline; justify-content:space-between; gap:10px; flex-wrap:wrap;">
      <h2 class="h2" style="margin:0;">Featured restaurants</h2>
      <a class="small" href="/restaurants" style="font-weight:700; color:var(--accent);">See all →</a>
    </div>
    <div style="height:12px;"></div>
    <div class="rgrid">
      {featured.map((r) => <RestaurantCard r={r} areaName={areaName(r.areaKey)} />)}
    </div>
  </section>

  <section class="section">
    <h2 class="h2">Browse by area</h2>
    <div class="cols3">
      {areas.map((a) => (
        <a class="card" href={`/areas/${a.key}`} style="padding:16px;">
          <div class="kicker">Area</div>
          <div class="h2" style="margin-top:6px; margin-bottom:6px;">{a.name}</div>
          <p class="small">Curated picks and easy browsing for {a.name}.</p>
          <div style="margin-top:10px; font-weight:700; color:var(--accent);">Explore →</div>
        </a>
      ))}
    </div>
  </section>
</Base>
---

---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro</title>
	</head>
	<body>
		<h1>Astro</h1>
	</body>
</html>
